

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>4. Initializing &mdash; Cosmos 2.13.9 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="5. Task Functions" href="task_func.html" />
    <link rel="prev" title="3. Getting Started" href="../3_getting_started.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Cosmos
          

          
          </a>

          
            
            
              <div class="version">
                2.13.9
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../1_introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2_install.html">2. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3_getting_started.html">3. Getting Started</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">4. Initializing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#api">4.1. API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#cosmos">4.1.1. Cosmos</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="task_func.html">5. Task Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflows.html">6. Workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">7. Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../shell.html">8. Shell</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">9. FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced.html">10. Advanced</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">11. Glossary</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Cosmos</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li><span class="section-number">4. </span>Initializing</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/workflows/initializing.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="initializing">
<span id="id1"></span><h1><span class="section-number">4. </span>Initializing<a class="headerlink" href="#initializing" title="Permalink to this headline">¶</a></h1>
<p>Cosmos is initialized by instantiating a <code class="xref py py-class docutils literal notranslate"><span class="pre">cosmos.Cosmos</span></code> instance, which represents a connection to a SQL database.  The Cosmos instance can then
be used to start a Workflow.  If a Workflow already exists with the same name, it will be resumed and all failed Tasks will be deleted from the database.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">cosmos.api</span> <span class="kn">import</span> <span class="n">Cosmos</span>
<span class="n">cosmos</span> <span class="o">=</span> <span class="n">Cosmos</span><span class="p">(</span><span class="n">database_url</span><span class="o">=</span><span class="s1">&#39;sqlite:///my_cosmos_db.sqlite&#39;</span><span class="p">)</span>
<span class="n">cosmos</span><span class="o">.</span><span class="n">initdb</span><span class="p">()</span> <span class="c1"># creates the tables, if they already exist this does nothing</span>
<span class="n">workflow</span> <span class="o">=</span> <span class="n">cosmos</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;My_Workflow&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>You may have to install the python package required to use the driver you’d like. For example, if you are using
<code class="docutils literal notranslate"><span class="pre">postgres+psycopg2:///</span></code>, make sure you <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">psycopg2</span></code>.  See <a class="reference external" href="http://docs.sqlalchemy.org/en/latest/core/engines.html">SQLAlchemy Engines</a>
for more details.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If is often very useful to maintain a one SQLite databsae per Workflow (especially for production environment), stored in the output directory of that Workflow.
This way, Workflows are completely atomic and all their provenance is nicely packed in a single location.</p>
</div>
<div class="section" id="api">
<h2><span class="section-number">4.1. </span>API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h2>
<div class="section" id="cosmos">
<h3><span class="section-number">4.1.1. </span>Cosmos<a class="headerlink" href="#cosmos" title="Permalink to this headline">¶</a></h3>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="task_func.html" class="btn btn-neutral float-right" title="5. Task Functions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../3_getting_started.html" class="btn btn-neutral float-left" title="3. Getting Started" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2013 Erik Gafni

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>