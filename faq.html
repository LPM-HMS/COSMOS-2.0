

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>9. FAQ &mdash; Cosmos 2.13.8 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="10. Advanced" href="advanced.html" />
    <link rel="prev" title="8. Shell" href="shell.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Cosmos
          

          
          </a>

          
            
            
              <div class="version">
                2.13.8
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="1_introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="2_install.html">2. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="3_getting_started.html">3. Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflows/initializing.html">4. Initializing</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflows/task_func.html">5. Task Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflows/workflows.html">6. Workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">7. Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="shell.html">8. Shell</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">9. FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced.html">10. Advanced</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">11. Glossary</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Cosmos</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li><span class="section-number">9. </span>FAQ</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/faq.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="faq">
<span id="id1"></span><h1><span class="section-number">9. </span>FAQ<a class="headerlink" href="#faq" title="Permalink to this headline">¶</a></h1>
<dl>
<dt>How do I cite Cosmos?</dt><dd><p>Cosmos was officially published as a
<a class="reference external" href="http://bioinformatics.oxfordjournals.org/content/early/2014/06/29/bioinformatics.btu385">manuscript</a>,
but has evolved a lot since its original inception.  If you use Cosmos
for research, please cite its <a class="reference external" href="http://bioinformatics.oxfordjournals.org/content/early/2014/06/29/bioinformatics.btu385">manuscript</a>.  This means a lot to the author.</p>
</dd>
<dt>Is there an easy way to get the command that was executed to run a pipeline?</dt><dd><p>Yes, check the primary log output, it will be the first thing that Cosmos writes to it.</p>
</dd>
<dt>How can I compose Workflows together?</dt><dd><p>We do this by making “Recipes”, which is not a Cosmos primitive, but rather simply a function that takes a Workflow and modifies its DAG.  Recipes
can easily call other Recipes since they are just functions.  Because Recipes can often require complex input datastructures, we like to create Recipe Input Schemas using
<a class="reference external" href="https://github.com/alecthomas/voluptuous">Voluptuous</a></p>
</dd>
<dt>How can I be more efficient with I/O?  Writing all the files back and forth to our shared filesystem has become a bottle neck.</dt><dd><p>This is the most common failure point for large production workflows on a traditional cluster (Hadoop and Spark get around this by using HDFS, but then
you are limited to the map reduce framework).  To reduce the amount of shared filesystem I/O of your pipeline, you can make sub-pipelines that are themselves jobs, that run using drm=’local’ on
a single node, utilize (fast) disk local on the node for scratch space, and only push final results back to the shared file system.</p>
<p>For example, a child Workflow using drm=’local’
might contain 10 Tasks.  The first Task would pull a large file to local disk that Tasks 2-8 process, reducing the number of times the large file has to be read
<em>from the shared filesystem</em> to once since Tasks 2-8 are reading off the local disc.  The last Task will push the final output back to the shared filesystem, and likely delete or copy intermediate/temporary files.  To be clear,
this involves a Cosmos pipeline submitting another Cosmos pipeline as a job.  This is what people do in production, and has other advantages such as modularizing
different aspects of a pipeline.  It had the added benefit of greatly increasing raw I/O for the jobs that are reading from local disc, rather than the shared file system.</p>
</dd>
<dt>How can I modify the DAG based on the output of a Task?</dt><dd><p>Run Workflow.run() after adding the Task that outputs the information you need to construct the rest of your DAG.  Then modify the DAG as normal using
Workflow.add_task(), and once finished call Workflow.run() for a second time to run the rest of the Tasks.</p>
</dd>
</dl>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="advanced.html" class="btn btn-neutral float-right" title="10. Advanced" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="shell.html" class="btn btn-neutral float-left" title="8. Shell" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2013 Erik Gafni

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>